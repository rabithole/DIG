<div class="center" style="display: flex; flex-direction: column;">
	<h1 style="font-size: 3vw; font-weight: bold; color: black; text-align: center;">{{ section.settings.title }}</h1>
  	<h1 id='total' style="text-align: center; font-size: 2vw; font-weight: bold; color: black;"></h1>
</div>

<div class="kit">
  {% for block in section.blocks %}
  	{% assign sku = block.settings.product_sku %}
  	{% assign prod = block.settings.product %}
  
  	<h1>{{ block.settings.title }}</h1>
  	
  	<section class="eachProduct">
	  	{% for option in prod.variants %}
	          {% if option.sku == sku %}
	              <img src='{{ option.image | img_url }}' style='width: 200px;'>
	              <h3 style="" id='{{ option.price }}'>Price: {{ option.price | money }}</h3>
	              <h1>{{ option.title }}</h1>
	          {% endif %}
	  	{% endfor %}
	</section> 

  {% endfor %}
</div>

{% schema %}
	{
		"name": "Multiple Products",
		"tag": "div",
		"settings": [
			{	
				"id": "title",
				"type": "text",
				"label": "Page Title"
			}
		],
		"blocks": [
			{
			"type": "text",
			"name": "product",
  			"settings": [
				{	
					"id": "title",
					"type": "text",
					"label": "title"
				},
				{
					"type": "text",
					"id": "product_sku",
					"label": "Product Sku"
				},
				{
					"type": "product",
					"id": "product",
					"label": "Product"
				},{
					"id": "description",
					"type": "text",
					"label": "Description"
				}
  					]
				}
			}
		],
		"presets": [
			{
				"category": "Product",
				"name": "Multiple Products",
				"settings": {}
			}
		]
	}
{% endschema %}

{% javascript %}

    let collection  = document.getElementsByTagName('h3');
    let price = 0;

    console.log('Collection:', collection);

    for(let i = 0; i < collection.length; i++) {
    	price = price + Number(collection[i].id);
    	console.log(Number(collection[i].id));
    	/*
    	console.log('InnerHTML: ', collection[i].innerHTML);
    	price = 'Total: ' + '$' + (Number(collection[i].id) / 100).toFixed(2);
    	*/
    }
    console.log( 'collection', collection, price );

	
	document.getElementById("total").innerHTML = 'Total: ' + '$' + (Number(price) / 100).toFixed(2);
   	
{% endjavascript %}

{% stylesheet %}
	.kit {
		display: flex;
		flex-wrap: wrap;
		justify-content: space-around;
		border: 2px solid black;
		padding: 20px;
		width: 70%;
		margin: auto;
	}

	.eachProduct {
		border: 2px solid black;
		padding: 20px;
	}
{% endstylesheet %}
